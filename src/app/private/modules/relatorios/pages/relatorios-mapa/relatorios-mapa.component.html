<section class="relatorios-mapa">
    <div class="row col-12 mb-3">
        <app-box>
            <div class="title-category">
                <h1>Água e Esgoto</h1>
            </div>
        </app-box>
    </div>
    <div class="row col-12">
        <div class="col-4">
            <div class="mb-2">
                <app-box>
                    <div class="container">
                        <p>200</p>
                        <p>Ocorrências</p>
                    </div>
                </app-box>
            </div>
            <div>
                <app-box>
                    <div class="chart col" align="center">
                        <p>Status das ocorrências</p>
                        <canvas height="150px" width="150px" baseChart [labels]="doughnutChartLabels"
                            [datasets]="doughnutChartDatasets" [options]="doughnutChartOptions" [legend]="true"
                            [type]="'doughnut'" [legend]="false">
                        </canvas>
                    </div>

                    <div class="d-flex align-self-center align-items-center mt-4">
                        <div class="status-color-pendentes"></div>
                        <div class="col-4 ms-3">
                            <div class="font-styles">Ocorrências pendentes <span>140</span>
                            </div>
                        </div>
                        <span class="ms-5">14%</span>
                    </div>
                    <hr>

                    <div class="d-flex align-self-center align-items-center mt-3">
                        <div class="status-color-tratamento"></div>

                        <div class="col-4 ms-3">
                            <div class="font-styles">Ocorrências em tratamento <span>160</span>
                            </div>
                        </div>
                        <span class="ms-5">16%</span>
                    </div>
                    <hr>


                    <div class="d-flex align-self-center align-items-center mt-3">
                        <div class="status-color-recusadas"></div>
                        <div class="col-5 ms-3">
                            <div class="font-styles">Ocorrências em recusadas <span>200</span>
                            </div>
                        </div>
                        <span class="ms-3">20%</span>
                    </div>
                    <hr>

                    <div class="d-flex align-self-center align-items-center mt-3">
                        <div class="status-color-resolvidas"></div>
                        <div class="col-4 ms-3">
                            <div class="font-styles">Ocorrências resolvidas <span>500</span>
                            </div>
                        </div>
                        <span class="ms-5">50%</span>
                    </div>
                    <hr>
                </app-box>
            </div>
        </div>
        <div class="col-8">
            <div class="mb-2">
                <app-box>
                    <!-- <ng-container *ngIf="this.dataSource?.length; else loading"> -->
                    <table mat-table [dataSource]="this.dataSource" class="mat-elevation-z8">

                        <ng-container matColumnDef="protocolo">
                            <th mat-header-cell *matHeaderCellDef>
                                Protocolo
                            </th>
                            <td mat-cell *matCellDef="let element">
                                {{element.protocolo}}
                            </td>
                        </ng-container>

                        <ng-container matColumnDef="categoria">
                            <th mat-header-cell *matHeaderCellDef>
                                Categoria
                            </th>
                            <td mat-cell *matCellDef="let element"> {{element.categoria}} </td>
                        </ng-container>



                        <ng-container matColumnDef="data_criacao">
                            <th mat-header-cell *matHeaderCellDef>
                                Data de criação
                            </th>
                            <td mat-cell *matCellDef="let element"> {{element.data_criacao | date: 'dd/MM/yyyy'}} </td>
                        </ng-container>


                        <ng-container matColumnDef="dia_abertura">
                            <th mat-header-cell *matHeaderCellDef>
                                Dias desde abertura
                            </th>
                            <td mat-cell *matCellDef="let element"> {{element.dias_abertura}} </td>
                        </ng-container>


                        <ng-container matColumnDef="responsavel">
                            <th mat-header-cell *matHeaderCellDef>
                                Responsável
                            </th>
                            <td mat-cell *matCellDef="let element"> {{element.responsavel}} </td>
                        </ng-container>

                        <ng-container matColumnDef="status">
                            <th mat-header-cell *matHeaderCellDef>
                                Status
                            </th>
                            <td mat-cell *matCellDef="let element">
                                <div [class]="'status-' + element.status">{{element.status}} </div>
                            </td>
                        </ng-container>


                        <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
                        <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
                    </table>
                    <app-pagination></app-pagination>
                    <!-- </ng-container> -->
                </app-box>
            </div>
        </div>
    </div>

    <div class="row col-12 mt-3">
        <div class="col-5">
            <app-box>
                <div class="row col">
                    <div class="row col-4">
                        <span style="font-size: 11px">Bueiro entupido</span>
                        <span style="font-size: 11px">100</span>
                    </div>
                    <div class="col">
                        <div class="progress">
                            <div class="progress-bar bg-success" role="progressbar" style="width: 25%"
                                aria-valuenow="25" aria-valuemin="0" aria-valuemax="100"></div>
                        </div>
                    </div>
                </div>

                <div class="row col mt-3">
                    <div class="row col-4">
                        <span style="font-size: 11px">Bueiro entupido</span>
                        <span style="font-size: 11px">100</span>
                    </div>
                    <div class="col">
                        <div class="progress">
                            <div class="progress-bar bg-info" role="progressbar" style="width: 50%" aria-valuenow="50"
                                aria-valuemin="0" aria-valuemax="100"></div>
                        </div>
                    </div>
                </div>

                <div class="row col mt-3">
                    <div class="row col-4">
                        <span style="font-size: 11px">Bueiro entupido</span>
                        <span style="font-size: 11px">100</span>
                    </div>
                    <div class="col">
                        <div class="progress">
                            <div class="progress-bar bg-warning" role="progressbar" style="width: 75%"
                                aria-valuenow="75" aria-valuemin="0" aria-valuemax="100"></div>
                        </div>
                    </div>
                </div>

                <div class="row col mt-3">
                    <div class="row col-4">
                        <span style="font-size: 11px">Bueiro entupido</span>
                        <span style="font-size: 11px">100</span>
                    </div>
                    <div class="col">
                        <div class="progress">
                            <div class="progress-bar bg-danger" role="progressbar" style="width: 100%"
                                aria-valuenow="100" aria-valuemin="0" aria-valuemax="100"></div>
                        </div>
                    </div>
                </div>


            </app-box>
        </div>
        <div class="col-7">
            <app-box>
                <div class="row col">
                    <p>Mapa das ocorrências</p>
                </div>
            </app-box>

        </div>
    </div>
</section>